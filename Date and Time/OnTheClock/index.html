<html>
	<head>	
		<link rel="stylesheet" href="https://use.typekit.net/lzn1rlz.css">
		<link rel="stylesheet" href="css/app.css"/>
		<link rel="stylesheet" href="css/flipclock.css"/>
	</head>
	<body>
		<div id="onClock" class="green">
			<h1>On the clock</h1>
			<div class="clock"></div>
		</div>	
			<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
			<script src="js/flipclock.min.js"></script>
			<script type="text/javascript">
		var clock;
		
		var initialTime = 90;
		var showYellow = 45;
		var showRed = 15;
		
		$(document).ready(function() {
			var time = 0;
			
			var $clock = $('.clock');
			var $clockWrapper = $('#onClock');
			
			clock = new FlipClock($clock, initialTime, {
				// Create a minute counter
				clockFace: 'MinuteCounter',
				countdown: true,
				callbacks: {
		        	stop: function() {
						$clockWrapper.removeClass("red");						
						clock.setTime(initialTime + 1);
						clock.start();	
					},
					interval: function() {	
						if(clock){
							var time = clock.time.time;
							
							if(time > showYellow){							
								$clockWrapper.addClass("green").removeClass("red");
							} else if(time == showYellow){
								$clockWrapper.removeClass("green").addClass("yellow");
							} else if(time == showRed){
								$clockWrapper.removeClass("yellow").addClass("red");
							}							
						}											
					}					
		        }				
			});
		});
	</script>
	</body>
</html>